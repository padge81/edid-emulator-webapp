

        button, select, input {
            font-size: 18px;
            padding: 12px 16px;
            padding: 14px 18px;
            margin: 6px 4px 6px 0;
            border-radius: 6px;
            border: none;
            background: #34495e;
        }

        .danger {
            background: #c0392b;
        }

        .danger:active {
            background: #e74c3c;
        }

        .secondary {
            background: #555;
        }

        select, input {
            background: #111;
            color: #f0f0f0;
        }

        .status {
            padding: 10px;
            padding: 12px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 6px;
<hr>

<!-- Port selection -->
<div>
    <label><strong>I²C Port:</strong></label><br>
    <select id="portSelect" class="full">
        {% for p in ports %}
            <option value="{{ p }}" {% if p == default_port %}selected{% endif %}>{{ p }}</option>
        {% endfor %}
    </select>
</div>
<label><strong>I²C Port:</strong></label>
<select id="portSelect" class="full">
    {% for p in ports %}
        <option value="{{ p }}" {% if p == default_port %}selected{% endif %}>{{ p }}</option>
    {% endfor %}
</select>

<hr>

<!-- Main controls -->
<!-- EDID Controls -->
<div class="row">
    <button onclick="readEdid()">Read EDID</button>
    <button onclick="resetEdid()">Reset</button>

<hr>

<!-- USB -->
<h3>USB</h3>
<div class="row">
    <button class="secondary" onclick="usbImport()">USB Import</button>
    <button class="secondary" onclick="usbExport()">USB Export</button>
</div>

<hr>

<!-- System -->
<h3>System</h3>
<div class="row">
    <button class="danger" onclick="rebootSystem()">Reboot</button>
    <button class="danger" onclick="shutdownSystem()">Shutdown</button>
</div>

<hr>

<!-- Status -->
<h3>Status</h3>
<div id="status" class="status idle">Idle</div>
function setStatus(msg, cls) {
    el.status.className = "status " + cls;
}

/* ---------- existing logic unchanged ---------- */

function loadVersion() {
    fetch("/version")
        .then(r => r.json())
function resetEdid() {
    el.diffBlock.style.display = "none";
    setStatus("Idle", "idle");
}

/* ---------- NEW USB + SYSTEM ---------- */

function usbImport() {
    if (!confirm("Import EDID files from USB?")) return;
    setStatus("Importing from USB…", "working");

    fetch("/usb/import", { method: "POST" })
        .then(r => r.json())
        .then(d => {
            if (d.error) setStatus(d.error, "error");
            else setStatus("USB Import complete ✔", "success");
        });
}

function usbExport() {
    if (!confirm("Export EDID files to USB?")) return;
    setStatus("Exporting to USB…", "working");

    fetch("/usb/export", { method: "POST" })
        .then(r => r.json())
        .then(d => {
            if (d.error) setStatus(d.error, "error");
            else setStatus("USB Export complete ✔", "success");
        });
}

function rebootSystem() {
    if (!confirm("Reboot system?")) return;
    fetch("/system/reboot", { method: "POST" });
}

function shutdownSystem() {
    if (!confirm("Shutdown system?")) return;
    fetch("/system/shutdown", { method: "POST" });
}
</script>

</body>
